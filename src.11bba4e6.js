parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"a33d":[function(require,module,exports) {
console.log("### p5.collide ###"),p5.prototype._collideDebug=!1,p5.prototype.collideDebug=function(t){_collideDebug=t},p5.prototype.collideRectRect=function(t,i,e,o,l,n,r,c){return t+e>=l&&t<=l+r&&i+o>=n&&i<=n+c},p5.prototype.collideRectCircle=function(t,i,e,o,l,n,r){var c=l,p=n;return l<t?c=t:l>t+e&&(c=t+e),n<i?p=i:n>i+o&&(p=i+o),this.dist(l,n,c,p)<=r/2},p5.prototype.collideCircleCircle=function(t,i,e,o,l,n){return this.dist(t,i,o,l)<=e/2+n/2},p5.prototype.collidePointCircle=function(t,i,e,o,l){return this.dist(t,i,e,o)<=l/2},p5.prototype.collidePointEllipse=function(t,i,e,o,l,n){var r=l/2,c=n/2;if(t>e+r||t<e-r||i>o+c||i<o-c)return!1;var p=t-e,s=i-o,u=c*this.sqrt(this.abs(r*r-p*p))/r;return s<=u&&s>=-u},p5.prototype.collidePointRect=function(t,i,e,o,l,n){return t>=e&&t<=e+l&&i>=o&&i<=o+n},p5.prototype.collidePointLine=function(t,i,e,o,l,n,r){var c=this.dist(t,i,e,o),p=this.dist(t,i,l,n),s=this.dist(e,o,l,n);return void 0===r&&(r=.1),c+p>=s-r&&c+p<=s+r},p5.prototype.collideLineCircle=function(t,i,e,o,l,n,r){var c=this.collidePointCircle(t,i,l,n,r),p=this.collidePointCircle(e,o,l,n,r);if(c||p)return!0;var s=t-e,u=i-o,d=this.sqrt(s*s+u*u),h=((l-t)*(e-t)+(n-i)*(o-i))/this.pow(d,2),y=t+h*(e-t),f=i+h*(o-i);return!!this.collidePointLine(y,f,t,i,e,o)&&(this._collideDebug&&this.ellipse(y,f,10,10),s=y-l,u=f-n,this.sqrt(s*s+u*u)<=r/2)},p5.prototype.collideLineLine=function(t,i,e,o,l,n,r,c,p){var s=((r-l)*(i-n)-(c-n)*(t-l))/((c-n)*(e-t)-(r-l)*(o-i)),u=((e-t)*(i-n)-(o-i)*(t-l))/((c-n)*(e-t)-(r-l)*(o-i));if(s>=0&&s<=1&&u>=0&&u<=1){if(this._collideDebug||p)var d=t+s*(e-t),h=i+s*(o-i);return this._collideDebug&&this.ellipse(d,h,10,10),!p||{x:d,y:h}}return!!p&&{x:!1,y:!1}},p5.prototype.collideLineRect=function(t,i,e,o,l,n,r,c,p){var s,u,d,h,y;return p?y={left:s=this.collideLineLine(t,i,e,o,l,n,l,n+c,!0),right:u=this.collideLineLine(t,i,e,o,l+r,n,l+r,n+c,!0),top:d=this.collideLineLine(t,i,e,o,l,n,l+r,n,!0),bottom:h=this.collideLineLine(t,i,e,o,l,n+c,l+r,n+c,!0)}:(s=this.collideLineLine(t,i,e,o,l,n,l,n+c),u=this.collideLineLine(t,i,e,o,l+r,n,l+r,n+c),d=this.collideLineLine(t,i,e,o,l,n,l+r,n),h=this.collideLineLine(t,i,e,o,l,n+c,l+r,n+c)),!!(s||u||d||h)&&(!p||y)},p5.prototype.collidePointPoly=function(t,i,e){for(var o=!1,l=0,n=0;n<e.length;n++){(l=n+1)==e.length&&(l=0);var r=e[n],c=e[l];(r.y>i&&c.y<i||r.y<i&&c.y>i)&&t<(c.x-r.x)*(i-r.y)/(c.y-r.y)+r.x&&(o=!o)}return o},p5.prototype.collideCirclePoly=function(t,i,e,o,l){null==l&&(l=!1);for(var n=0,r=0;r<o.length;r++){(n=r+1)==o.length&&(n=0);var c=o[r],p=o[n];if(this.collideLineCircle(c.x,c.y,p.x,p.y,t,i,e))return!0}return!(1!=l||!this.collidePointPoly(t,i,o))},p5.prototype.collideRectPoly=function(t,i,e,o,l,n){null==n&&(n=!1);for(var r=0,c=0;c<l.length;c++){(r=c+1)==l.length&&(r=0);var p=l[c],s=l[r];if(this.collideLineRect(p.x,p.y,s.x,s.y,t,i,e,o))return!0;if(1==n&&this.collidePointPoly(t,i,l))return!0}return!1},p5.prototype.collideLinePoly=function(t,i,e,o,l){for(var n=0,r=0;r<l.length;r++){(n=r+1)==l.length&&(n=0);var c=l[r].x,p=l[r].y,s=l[n].x,u=l[n].y;if(this.collideLineLine(t,i,e,o,c,p,s,u))return!0}return!1},p5.prototype.collidePolyPoly=function(t,i,e){null==e&&(e=!1);for(var o=0,l=0;l<t.length;l++){(o=l+1)==t.length&&(o=0);var n=t[l],r=t[o],c=this.collideLinePoly(n.x,n.y,r.x,r.y,i);if(c)return!0;if(1==e&&(c=this.collidePointPoly(i[0].x,i[0].y,t)))return!0}return!1},p5.prototype.collidePointTriangle=function(t,i,e,o,l,n,r,c){var p=this.abs((l-e)*(c-o)-(r-e)*(n-o));return this.abs((e-t)*(n-i)-(l-t)*(o-i))+this.abs((l-t)*(c-i)-(r-t)*(n-i))+this.abs((r-t)*(o-i)-(e-t)*(c-i))==p},p5.prototype.collidePointPoint=function(t,i,e,o,l){return null==l&&(l=0),this.dist(t,i,e,o)<=l},p5.prototype.collidePointArc=function(t,i,e,o,l,n,r,c){null==c&&(c=0);var p=this.createVector(t,i),s=this.createVector(e,o),u=this.createVector(l,0).rotate(n),d=p.copy().sub(s);if(p.dist(s)<=l+c){var h=u.dot(d),y=u.angleBetween(d);if(h>0&&y<=r/2&&y>=-r/2)return!0}return!1};
},{}],"L7jg":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function r(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(e){var i=n(e,"string");return"symbol"==t(i)?i:i+""}function n(e,i){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,i||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=exports.default=function(){return r(function t(i,r){e(this,t),this.xoff=i.random()*i.width,this.size=r,this.x=i.random()*i.width,this.y=i.height,this.speed=4*i.random()},[{key:"draw",value:function(t){this.update(t),t.push(),t.noStroke(),t.fill("rgba(100,250,33,0.5)"),t.ellipse(this.x,this.y,this.size,this.size),t.pop()}},{key:"update",value:function(t){this.y-=this.speed,this.y<0&&this.reset(t),this.xoff=this.xoff+.0025,this.x=t.noise(this.xoff)*t.width}},{key:"reset",value:function(t){this.y=t.height+10*this.size,this.x=t.random()*t.width,this.speed=3*t.random()}}])}();
},{}],"ra9V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./bubble"));function e(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function u(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t){var e=f(t,"string");return"symbol"==r(e)?e:e+""}function f(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var a=exports.default=function(){return u(function t(e){n(this,t);Math.random();this.bubbles=[]},[{key:"draw",value:function(t){this.bubbles.forEach(function(e){return e.draw(t)})}}])}();
},{"./bubble":"L7jg"}],"NUhz":[function(require,module,exports) {

},{}],"C0ZN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={invertColors:!1,drawBlack:!1,aboutUrl:"/highscore/",enemySpeed:2,enemySize:50,debug:!1,soundOn:!1,postUrl:"/api/score/",player_base_speed:3,fish_images:[],gameOver:!1};window.GlobalSettings=e;var r=exports.default=e;
},{}],"ZGhj":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function r(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(e){var i=n(e,"string");return"symbol"==t(i)?i:i+""}function n(e,i){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,i||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var u=exports.default=function(){return r(function t(i,r,o,n){e(this,t),this.x=i,this.y=r,this.w=o,this.h=n,this.tS=n-10},[{key:"setText",value:function(t){this.text=t,this.tX=this.x+this.w/2,this.tY=this.y+this.h/2}},{key:"draw",value:function(t){if(!this.text)throw new Error("MenuButton.draw() was called but no text was specified. Did you forget to call .setText() ?");t.push(),t.rect(this.x,this.y,this.w,this.h),t.textSize(this.tS),t.textAlign(t.CENTER,t.CENTER),t.text(this.text,this.tX,this.tY),t.pop()}},{key:"setClickHandler",value:function(t){this.cb=t}},{key:"click",value:function(){if(!this.cb)throw new Error("MenuButton.click() was called but no callback was specified. Did you forget to call .setClickHandler() ?");this.cb()}}])}();
},{}],"WLd9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wasButtonClicked=void 0;var e=exports.wasButtonClicked=function(e,t,o,r){return e.collidePointRect(o,r,t.x,t.y,t.w,t.h)};
},{}],"Q2MF":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n(r.key),r)}}function r(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(e){var i=o(e,"string");return"symbol"==t(i)?i:i+""}function o(e,i){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,i||"default");if("object"!=t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=exports.default=function(){return r(function t(i,r,n,o){e(this,t),this.x=i,this.y=r,this.w=n,this.h=o,this.tS=o-10,this.text="",this.carret="|",this.counter=0,this.treshold=75},[{key:"draw",value:function(t){t.push(),t.rect(this.x,this.y,this.w,this.h),t.textSize(this.tS),t.fill("black"),t.textAlign(t.CENTER,t.CENTER);var e=this.x+this.w/2,i=this.y+this.h/2;this.counter>this.treshold/2?(t.text(this.text+this.carret,e,i),this.counter>this.treshold&&(this.counter=0)):t.text(this.text,e,i),this.counter+=1,t.pop()}},{key:"keyPressed",value:function(t){8===t&&(this.text=this.text.substring(0,this.text.length-1))}},{key:"keyTyped",value:function(t,e){this.text+=t,e.push(),e.textSize(this.tS),e.textWidth(this.text)>this.w&&(this.text=this.text.substring(0,this.text.length-1)),e.pop()}}])}();
},{}],"IAoy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../global.settings"));function e(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,o(s.key),s)}}function h(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){var e=r(t,"string");return"symbol"==i(e)?e:e+""}function r(t,e){if("object"!=i(t)||!t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var n=s.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var c=exports.default=function(){return h(function e(i,n){s(this,e),this.name=n,this.size=20,this.cX=i.width/2+30*(-2*i.random()+1),this.cY=i.height/2+30*(-2*i.random()+1),this.angle=i.PI/2,this.img=t.default.playerImg,this.movingRight=!0,this.speed=t.default.player_base_speed,this.score=0,this.effectText=[],this.pointsMultiplier=1},[{key:"w",value:function(){return 2*this.size}},{key:"h",value:function(){return 2*this.size}},{key:"center",get:function(){return{x:this.cX-this.w()/2,y:this.cY-this.h()/2}}},{key:"move",value:function(t){t.keyIsDown(t.LEFT_ARROW)&&(this.movingRight=!1,this.cX-=this.speed),t.keyIsDown(t.RIGHT_ARROW)&&(this.movingRight=!0,this.cX+=this.speed),t.keyIsDown(t.UP_ARROW)&&(this.cY-=this.speed),t.keyIsDown(t.DOWN_ARROW)&&(this.cY+=this.speed),this.cY>t.height?this.cY=0:this.cY<0&&(this.cY=t.height),this.cX>t.width?this.cX=0:this.cX<0&&(this.cX=t.width)}},{key:"moveToMouse",value:function(t){var e=t.mouseX,i=t.mouseY,s=t.atan2(i-this.cY,e-this.cX);e-this.cX>0?this.movingRight=!0:this.movingRight=!1;var n=t.cos(s)*this.speed,h=t.sin(s)*this.speed;this.cX+=n,this.cY+=h}},{key:"draw",value:function(e){e.mouseIsPressed&&this.moveToMouse(e),this.move(e),e.push();var i=this.cX-this.w()/2,s=this.cY-this.h()/2;e.imageMode(e.CENTER),e.rectMode(e.CORNER),this.movingRight?(e.scale(-1,1),e.image(this.img,-1*i,s,this.w(),this.h())):e.image(this.img,i,s,this.w(),this.h()),e.pop(),t.default.debug&&e.rect(i-this.w()/2,s-this.h()/2,this.w(),this.h()),e.push(),e.textSize(32);var n="".concat(this.name,"\nScore: ").concat(this.score,"\n");0!==this.effectText.length&&(n+="Effects:\n"),n+=this.effectText.join("\n"),e.text(n,10,30),e.pop()}},{key:"canEat",value:function(t,e){var i=this.cX-this.w()/2,s=this.cY-this.h()/2;return t.collideRectCircle(i-this.w()/2,s-this.h()/2,this.w(),this.h(),e.x,e.y,e.size,e.size)}},{key:"eat",value:function(t,e){"dog"!==e.type&&(this.size+=1,t.random(),e.reset(t,this),this.addScore())}},{key:"addPower",value:function(t){t.getEffect(this.score).effect(this,10)}},{key:"hasEffect",value:function(t){return this.effectText.includes(t)}},{key:"removeEffect",value:function(t){for(var e=this.effectText.length-1;e>=0;e-=1)this.effectText[e]===t&&this.effectText.splice(e,1)}},{key:"addScore",value:function(){this.score+=this.pointsMultiplier}},{key:"resetStats",value:function(){this.speed=t.default.player_base_speed,this.pointsMultiplier=1}},{key:"setSpeed",value:function(t){this.speed=t}}])}();
},{"../global.settings":"C0ZN"}],"kV2g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../components/textfield")),t=o(require("../components/button")),n=o(require("./game.state")),i=o(require("../components/player")),r=require("../util");function o(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,f(i.key),i)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=y(e,"string");return"symbol"==u(t)?t:t+""}function y(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=u(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c=exports.default=function(){return l(function r(o,u){var s=this;a(this,r),this.state=u,this.elements=[];var l=o.width/2,f=o.width/2-l/2,y=o.height/2;this.editText=new e.default(f,y,l,50),this.elements.push(this.editText),y+=75,this.playBtn=new t.default(f,y,l,50),this.playBtn.setText("Play Game"),this.playBtn.setClickHandler(function(){localStorage.setItem("username",s.editText.text),s.state.setState(new n.default(o,s.state,new i.default(o,s.editText.text)))}),this.elements.push(this.playBtn),console.log(this)},[{key:"draw",value:function(e){e.push(),e.textSize(32),e.textAlign(e.CENTER,e.CENTER);var t=e.width/2,n=e.height/2-50;e.text("Please enter your username",t,n),e.pop();for(var i=0;i<this.elements.length;i+=1)this.elements[i].draw(e)}},{key:"destroy",value:function(){}},{key:"initSound",value:function(){}},{key:"keyPressed",value:function(e){this.editText.keyPressed(e)}},{key:"keyTyped",value:function(e,t){this.editText.keyTyped(e,t)}},{key:"mouseClicked",value:function(e,t,n){(0,r.wasButtonClicked)(e,this.playBtn,t,n)&&this.playBtn.click()}}])}();
},{"../components/textfield":"Q2MF","../components/button":"ZGhj","./game.state":"fIQi","../components/player":"IAoy","../util":"WLd9"}],"qC4O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../global.settings"));function i(t){return t&&t.__esModule?t:{default:t}}function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function n(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function o(t,i,e){return i&&n(t.prototype,i),e&&n(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t){var i=h(t,"string");return"symbol"==e(i)?i:i+""}function h(t,i){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,i||"default");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}var a=exports.default=function(){return o(function i(e,n){r(this,i),this.type="rat",this.size=20;var o=Math.random()<.5;this.x=o?300*Math.random():e.width-300*Math.random(),this.y=Math.random()*e.height,this.currentIndex=n,this.img=t.default.fish_images[this.currentIndex],this.direction=[2*Math.random()-1,2*Math.random()-1],this.jpMargin=12},[{key:"draw",value:function(i){this.update(i),i.push(),i.imageMode(i.CENTER),t.default.debug&&i.ellipse(this.x,this.y,this.size,this.size),i.image(this.img,this.x,this.y,this.size+this.jpMargin,this.size+this.jpMargin),i.pop()}},{key:"update",value:function(t){this.x=this.x+1*this.direction[0],this.y=this.y+1*this.direction[1],this.x>t.width+this.size/2&&(this.x=0),this.x<0-this.size/2&&(this.x=t.width),this.y>t.height+this.size/2&&(this.y=0),this.y<0-this.size/2&&(this.y=t.height)}},{key:"reset",value:function(t,i){this.size=20,this.x=i.cX+(t.width/2*t.random()+50),this.y=i.cY+(t.height/2*t.random()+50),this.direction=[2*t.random()-1,2*t.random()-1]}}])}();
},{"../global.settings":"C0ZN"}],"ID2n":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n(r.key),r)}}function r(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(e){var i=o(e,"string");return"symbol"==t(i)?i:i+""}function o(e,i){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,i||"default");if("object"!=t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var u=exports.default=function(){return r(function t(i,r){e(this,t),this.text=i,this.manager=r,this.maxSize=72,this.textSize=24},[{key:"draw",value:function(t){this.update(),t.push(),t.fill("white"),t.stroke(this.textSize),t.textAlign(t.CENTER,t.CENTER),t.textSize(this.textSize),t.text(this.text,0,0,t.width,t.height),t.pop()}},{key:"update",value:function(){this.textSize+=.5,this.textSize>=this.maxSize&&this.destroy()}},{key:"destroy",value:function(){this.manager.removeAnnouncement(this)}}])}();
},{}],"eRRO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("../util/announcement"));function n(e){return e&&e.__esModule?e:{default:e}}function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function u(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){var n=a(e,"string");return"symbol"==t(n)?n:n+""}function a(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}var c=function(){return u(function e(){r(this,e),this.announcements=[]},[{key:"draw",value:function(e){this.announcements.length>0&&this.announcements[0].draw(e)}},{key:"addAnnouncement",value:function(n){this.announcements.push(new e.default(n,this))}},{key:"removeAnnouncement",value:function(e){var n=this.announcements.indexOf(e);this.announcements.splice(n,1)}}])}(),f=exports.default=new c;
},{"../util/announcement":"ID2n"}],"MZwO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../global.settings")),o=require("../util/effects");function e(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function s(t,o){for(var e=0;e<o.length;e++){var n=o[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function u(t,o,e){return o&&s(t.prototype,o),e&&s(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t){var o=r(t,"string");return"symbol"==n(o)?o:o+""}function r(t,o){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,o||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(t)}var a=function(){return u(function t(){i(this,t),this.sounds={}},[{key:"playSound",value:function(t){this.sounds[t].play()}},{key:"loopSound",value:function(t){this.isPlaying(t)||this.sounds[t].loop()}},{key:"stopSound",value:function(t){this.sounds[t].stopAll()}},{key:"addSound",value:function(t,o){o.playMode("sustain"),this.sounds[t]=o}},{key:"isPlaying",value:function(t){return this.sounds[t].isPlaying()||this.sounds[t].isLooping()}},{key:"reverse",value:function(){this.isPlaying("reverse")?(this.stopAll(),this.loopSound("main")):t.default.gameOver||(this.stopAll(),this.loopSound("reverse"))}},{key:"gameOver",value:function(){var t=this;this.stopAll(),setTimeout(function(){t.loopSound("main"),t.playSound("schurk")},100)}},{key:"stopAll",value:function(){var t=this;(0,o.clearTimeOuts)(),Object.keys(this.sounds).forEach(function(o){t.isPlaying(o)&&t.stopSound(o)})}},{key:"doublePoints",value:function(){this.isPlaying("double")?(this.stopAll(),this.loopSound("main")):(this.stopAll(),this.loopSound("double"))}},{key:"toggleSlow",value:function(){this.isPlaying("slow")?(this.stopAll(),this.loopSound("main")):(this.stopAll(),this.loopSound("slow"))}},{key:"toggleFast",value:function(){this.isPlaying("fast")?(this.stopAll(),this.loopSound("main")):(this.stopAll(),this.loopSound("fast"))}}])}(),f=exports.default=new a;
},{"../global.settings":"C0ZN","../util/effects":"yqg4"}],"yqg4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.effects=exports.clearTimeOuts=void 0;var e=n(require("../managers/announcement.manager")),t=n(require("../managers/sound.manager"));function n(e){return e&&e.__esModule?e:{default:e}}var f=[],s=exports.clearTimeOuts=function(){f.forEach(function(e){clearTimeout(e)}),f=[]},u=exports.effects=[{name:"reverse",effect:function(n,s){if(!n.hasEffect(this.name)){n.setSpeed(-1*n.speed);var u=this.name;t.default.reverse(n),e.default.addAnnouncement("Reverse!"),n.effectText.push(u),f.push(setTimeout(function(){n.setSpeed(-1*n.speed),t.default.reverse(n),n.removeEffect(u)},1e3*s))}}},{name:"speedup",effect:function(n,s){if(!n.hasEffect(this.name)){n.setSpeed(2*n.speed);var u=this.name;e.default.addAnnouncement("Speedup!"),t.default.toggleFast(),n.effectText.push(u),f.push(setTimeout(function(){n.setSpeed(n.speed/2),t.default.toggleFast(),n.removeEffect(u)},1e3*s))}}},{name:"slowdown",effect:function(n,s){if(!n.hasEffect(this.name)){n.setSpeed(n.speed/2);var u=this.name;t.default.toggleSlow(),e.default.addAnnouncement("Slowdown!"),n.effectText.push(u),f.push(setTimeout(function(){n.setSpeed(2*n.speed),n.removeEffect(u),t.default.toggleSlow()},1e3*s))}}},{name:"double points",effect:function(n,s){if(!n.hasEffect(this.name)){n.pointsMultiplier=2;var u=this.name;t.default.doublePoints(),e.default.addAnnouncement("Double points!"),n.effectText.push(u),f.push(setTimeout(function(){n.pointsMultiplier=1,n.removeEffect(u),t.default.doublePoints()},1e3*s))}}}];
},{"../managers/announcement.manager":"eRRO","../managers/sound.manager":"MZwO"}],"MVi2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../global.settings")),e=require("../util/effects");function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function s(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t){var e=h(t,"string");return"symbol"==r(e)?e:e+""}function h(t,e){if("object"!=r(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var f=exports.default=function(){return s(function e(i,r){n(this,e),this.size=25,this.img=t.default.powerup;var o=function(t){return t/2*i.random()+50};this.x=r.cX+o(i.width),this.y=r.cY+o(i.height),this.direction=[2*i.random()-1,2*i.random()-1]},[{key:"draw",value:function(e){this.update(e),e.push(),e.fill("red"),e.imageMode(e.CENTER),e.image(this.img,this.x,this.y,2.23*this.size,this.size),t.default.debug&&e.ellipse(this.x,this.y,2.3*this.size,this.size),e.pop()}},{key:"update",value:function(t){this.x=this.x+1*this.direction[0],this.y=this.y+1*this.direction[1],this.x>t.width+this.size/2&&(this.x=0),this.y>t.height+this.size/2&&(this.y=0),this.x<0-this.size/2&&(this.x=t.width),this.y<0-this.size/2&&(this.y=t.height)}},{key:"getEffect",value:function(t){return e.effects[Math.floor(Math.random()*e.effects.length)]}}])}();
},{"../global.settings":"C0ZN","../util/effects":"yqg4"}],"c5AS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../global.settings"));function e(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function n(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t){var e=u(t,"string");return"symbol"==i(e)?e:e+""}function u(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var h=exports.default=function(){return n(function e(i){r(this,e);var o=i.random()<.5;this.y=o?200*i.random():i.height-200*i.random(),this.x=i.random()*i.width,this.size=t.default.enemySize,this.direction=[2*i.random()-1,2*i.random()-1],this.speed=t.default.enemySpeed},[{key:"update",value:function(e){this.x=this.x+t.default.enemySpeed*this.direction[0],this.y=this.y+t.default.enemySpeed*this.direction[1],this.x>e.width+this.size/2&&(this.x=0),this.x<0-this.size/2&&(this.x=e.width),this.y>e.height+this.size/2&&(this.y=0),this.y<0-this.size/2&&(this.y=e.height)}},{key:"draw",value:function(e){this.update(),e.push(),e.fill("yellow"),e.stroke("red"),e.strokeWeight(10),e.ellipse(this.x,this.y,this.size,this.size),e.noStroke(),e.fill("blue"),e.ellipse(this.x,this.y,this.size-25,this.size-25),t.default.debug&&e.ellipse(this.x,this.y,this.size,this.size),e.pop()}}])}();
},{"../global.settings":"C0ZN"}],"tyze":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,o(i.key),i)}}function i(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(e){var r=n(e,"string");return"symbol"==t(r)?r:r+""}function n(e,r){if("object"!=t(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,r||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=exports.default=function(){return i(function t(r,i,o,n){e(this,t),this.target={x:o,y:n},this.source={x:r,y:i},this.x=this.source.x,this.y=this.source.y,this.speed=4,this.size=15},[{key:"update",value:function(){var t={x:this.target.x-this.x,y:this.target.y-this.y},e=Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2));this.x+=t.x*this.speed/e,this.y+=t.y*this.speed/e}},{key:"draw",value:function(t){this.update(),t.push(),t.fill("yellow"),t.ellipse(this.x,this.y,this.size,this.size),t.pop()}},{key:"hasReachedDestination",value:function(){var t=Math.abs(this.x-this.target.x)<10,e=Math.abs(this.y-this.target.y)<10;return t&&e}}])}();
},{}],"sb4i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./projectile"));function e(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,u(i.key),i)}}function n(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t){var e=s(t,"string");return"symbol"==r(e)?e:e+""}function s(t,e){if("object"!=r(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var c=exports.default=function(){return n(function t(e){i(this,t),this.projectTilesRemaining=20,this.currentProjectiles=[],this.x=e.random()*e.width,this.y=e.random()*e.height,this.counter=0},[{key:"update",value:function(t){this.counter+=1,this.counter%50==0&&this.shoot(t)}},{key:"draw",value:function(t,e){var r=this;this.update(e),t.push(),t.fill("yellow"),t.ellipse(this.x,this.y,25,25),t.pop(),this.currentProjectiles.forEach(function(e){e.hasReachedDestination()?r.currentProjectiles.shift():e.draw(t)})}},{key:"shoot",value:function(e){this.outOfProjectiles()||this.currentProjectiles.push(new t.default(this.x,this.y,e.center.x,e.center.y)),this.projectTilesRemaining-=1}},{key:"outOfProjectiles",value:function(){return this.projectTilesRemaining<=0}}])}();
},{"./projectile":"tyze"}],"Yt4L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../global.settings"));function i(t){return t&&t.__esModule?t:{default:t}}function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function n(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function o(t,i,e){return i&&n(t.prototype,i),e&&n(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t){var i=h(t,"string");return"symbol"==e(i)?i:i+""}function h(t,i){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,i||"default");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}var a=exports.default=function(){return o(function i(e){r(this,i),this.type="dog",this.size=50;var n=Math.random()<.5;this.x=n?300*Math.random():e.width-300*Math.random(),this.y=Math.random()*e.height,this.img=t.default.dogImg,this.direction=[2*Math.random()-1,2*Math.random()-1],this.jpMargin=12},[{key:"draw",value:function(i){this.update(i),i.push(),i.imageMode(i.CENTER),t.default.debug&&i.ellipse(this.x,this.y,this.size,this.size),i.image(this.img,this.x,this.y,this.size+this.jpMargin,this.size+this.jpMargin),i.pop()}},{key:"update",value:function(t){this.x=this.x+1*this.direction[0],this.y=this.y+1*this.direction[1],this.x>t.width+this.size/2&&(this.x=0),this.x<0-this.size/2&&(this.x=t.width),this.y>t.height+this.size/2&&(this.y=0),this.y<0-this.size/2&&(this.y=t.height)}},{key:"reset",value:function(t,i){this.size=50,this.x=i.cX+(t.width/2*t.random()+50),this.y=i.cY+(t.height/2*t.random()+50),this.direction=[2*t.random()-1,2*t.random()-1]}}])}();
},{"../global.settings":"C0ZN"}],"fIQi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=p(require("./username.state")),t=p(require("../global.settings")),s=p(require("../components/fish")),n=p(require("../components/button")),r=p(require("./menu.state")),i=p(require("../components/player")),a=p(require("../components/powerup")),o=require("../util"),u=p(require("../managers/sound.manager")),h=p(require("../components/enemy")),l=p(require("../components/boss")),f=p(require("../components/dog"));function p(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function v(e,t,s){return t&&d(e.prototype,t),s&&d(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=w(e,"string");return"symbol"==c(t)?t:t+""}function w(e,t){if("object"!=c(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var g=exports.default=function(){return v(function a(o,u,l){var p=this;y(this,a),l||u.setState(new e.default(o,u)),this.fishes=[],this.doges=[],this.powerups=[],this.enemies=[],t.default.gameOver=!1,this.MAX_POWERUP_CHANCE=.2,this.buttons=[],this.state=u;for(var c=0;c<30;c+=1)this.fishes.push(new s.default(o,0));for(var d=0;d<15;d+=1)this.fishes.push(new f.default(o));for(var v=0;v<8*o.random()+3;v+=1)this.enemies.push(new h.default(o));this.player=l,o.textSize(40);var m="Main menu",w=o.textWidth(m),g=w+45;this.restartBtn=new n.default(o.width/2-g/2,o.height/2,g,50),this.restartBtn.setText(m),this.restartBtn.setClickHandler(function(){p.state.setState(new r.default(o,p.state))}),this.buttons.push(this.restartBtn),m="Play again",w=o.textWidth(m),this.playAgainBtn=new n.default(o.width/2-g/2,o.height/2+75,g,50),this.playAgainBtn.setText(m),this.playAgainBtn.setClickHandler(function(){p.state.setState(new a(o,p.state,new i.default(o,p.player.name)))}),this.buttons.push(this.playAgainBtn),this.bosses=[]},[{key:"draw",value:function(e){var s=this;if(t.default.gameOver){e.push(),e.textSize(48),e.textAlign(e.CENTER,e.CENTER);var n="Game Over!\nScore: ".concat(this.player.score);e.textWidth(n);e.text(n,e.width/2,e.height/2-75),this.restartBtn.draw(e),this.playAgainBtn.draw(e),e.pop()}else{for(var r=0;r<this.fishes.length;r+=1){var i=this.fishes[r];i.draw(e),this.player.canEat(e,i)&&("dog"===i.type&&this.gameOver(),this.player.size>=i.size?(this.player.eat(e,i),this.player.score%15==0&&this.swapFishImages(),this.handleBossSpawns(e),this.handleSpawns(e)):this.gameOver())}for(var a=0;a<this.enemies;a+=1){var o=this.enemies[a];o.draw(e),this.player.canEat(e,o)&&this.gameOver()}for(var u=0;u<this.powerups.length;u+=1)this.powerups[u].draw(e),this.player.canEat(e,this.powerups[u])&&(this.player.addPower(this.powerups[u]),this.powerups.splice(u,1));this.handleBossDespawns(),this.checkIfHitByBoss(e),this.bosses.forEach(function(t){t.draw(e,s.player)}),this.player.draw(e)}}},{key:"getChanceOfSpawningPowerup",value:function(){return.1*Math.round(this.player.score/10)}},{key:"maySpawnPowerup",value:function(e,t){var s=t;s>this.MAX_POWERUP_CHANCE&&(s=this.MAX_POWERUP_CHANCE),Math.random()<s&&this.powerups.push(new a.default(e,this.player))}},{key:"handleSpawns",value:function(e){var t=this.getChanceOfSpawningPowerup();t>=1&&this.maySpawnPowerup(e,this.MAX_POWERUP_CHANCE),t-=Math.floor(t),this.maySpawnPowerup(e,t)}},{key:"mouseClicked",value:function(e,s,n){for(var r=0;r<this.buttons.length;r+=1)(0,o.wasButtonClicked)(e,this.buttons[r],s,n)&&t.default.gameOver&&this.buttons[r].click()}},{key:"gameOver",value:function(){t.default.gameOver=!0,u.default.gameOver()}},{key:"initSound",value:function(){u.default.loopSound("main")}},{key:"destroy",value:function(){u.default.stopAll()}},{key:"postScore",value:function(){}},{key:"swapFishImages",value:function(){var e=this;return new Promise(function(){for(var t=function(t){setTimeout(function(){e.fishes[t].nextImg()},20*t)},s=0;s<e.fishes.length;s+=1)t(s)})}},{key:"checkIfHitByBoss",value:function(e){var t=this;this.bosses.forEach(function(s){s.currentProjectiles.forEach(function(s){t.player.canEat(e,s)&&t.gameOver()})})}},{key:"handleBossDespawns",value:function(){var e=this;this.bosses.forEach(function(t,s){t.outOfProjectiles()&&e.bosses.splice(s,1)})}},{key:"handleBossSpawns",value:function(e){if(this.player.score%20==0)for(var t=0;t<3;t+=1)this.bosses.push(new l.default(e))}}])}();
},{"./username.state":"kV2g","../global.settings":"C0ZN","../components/fish":"qC4O","../components/button":"ZGhj","./menu.state":"gDRO","../components/player":"IAoy","../components/powerup":"MVi2","../util":"WLd9","../managers/sound.manager":"MZwO","../components/enemy":"c5AS","../components/boss":"sb4i","../components/dog":"Yt4L"}],"gDRO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("../components/button")),e=a(require("../global.settings")),n=require("../util"),r=a(require("./game.state")),o=a(require("../components/player")),i=a(require("./username.state")),u=a(require("../managers/sound.manager"));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function c(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t){var e=m(t,"string");return"symbol"==s(e)?e:e+""}function m(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var y=exports.default=function(){return c(function e(n,a){var s=this;l(this,e),this.gamestate=a,this.buttons=[];var f=.3*n.width,c=n.width/2-f/2,d=n.height/2-25,m=new t.default(c,d,f,50);m.setText("Play Game"),m.setClickHandler(function(){var t=localStorage.getItem("username");t&&0!==t.length?(u.default.isPlaying("intro")&&u.default.stopSound("intro"),s.gamestate.setState(new r.default(n,s.gamestate,new o.default(n,t)))):s.gamestate.setState(new i.default(n,s.gamestate))}),this.buttons.push(m);var y=new t.default(c,d+150,f,50);y.setText("Info"),y.setClickHandler(function(){}),this.buttons.push(y),this.title="NEKO"},[{key:"draw",value:function(t){t.push(),t.textSize(124),t.textAlign(t.CENTER,t.CENTER),t.textFont("Palatino"),t.text(this.title,0,0,t.width,t.height/2),t.pop();for(var e=0;e<this.buttons.length;e+=1)this.buttons[e].draw(t)}},{key:"mouseClicked",value:function(t,e,r){for(var o=0;o<this.buttons.length;o+=1)(0,n.wasButtonClicked)(t,this.buttons[o],e,r)&&this.buttons[o].click()}},{key:"initSound",value:function(){u.default.loopSound("intro")}},{key:"destroy",value:function(){}}])}();
},{"../components/button":"ZGhj","../global.settings":"C0ZN","../util":"WLd9","./game.state":"fIQi","../components/player":"IAoy","./username.state":"kV2g","../managers/sound.manager":"MZwO"}],"RCzU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("../global.settings")),e=n(require("./menu.state"));function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,s(o.key),o)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t){var e=a(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var u=n.call(t,e||"default");if("object"!=o(u))return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var l=exports.default=function(){return i(function n(o){u(this,n),this.soundOnImg=t.default.soundOnImg,this.soundOffImg=t.default.soundOffImg,this.state=new e.default(o,this),this.state.initSound();var r="true"===localStorage.getItem("soundOn")||null===localStorage.getItem("soundOn");t.default.soundOn=r,r||o.masterVolume(0)},[{key:"draw",value:function(e){this.state.draw(e),e.push(),e.imageMode(e.CORNER),t.default.soundOn?e.image(this.soundOnImg,5,e.height-55,50,50):e.image(this.soundOffImg,5,e.height-55,50,50),e.pop()}},{key:"setState",value:function(t){var e=this;this.state.destroy(),this.state=t,setTimeout(function(){e.state.initSound()},100)}},{key:"mouseClicked",value:function(e,n,o){if(n>5&&n<55&&o>e.height-55&&o<e.height-5)return t.default.soundOn=!t.default.soundOn,void(t.default.soundOn?(e.masterVolume(1),localStorage.setItem("soundOn",!0)):(e.masterVolume(0),localStorage.setItem("soundOn",!1)));this.state.mouseClicked(e,n,o)}},{key:"keyTyped",value:function(t,e){"function"==typeof this.state.keyTyped&&this.state.keyTyped(t,e)}},{key:"keyPressed",value:function(t,e){"function"==typeof this.state.keyPressed&&this.state.keyPressed(t,e)}}])}();
},{"../global.settings":"C0ZN","./menu.state":"gDRO"}],"H99C":[function(require,module,exports) {
"use strict";require("../lib/p5.collide2d.min");var e=n(require("./background/waterbackground"));require("./styles/styles.scss");var s=n(require("./states/state")),a=n(require("./global.settings")),d=n(require("./managers/announcement.manager")),o=n(require("./managers/sound.manager"));function n(e){return e&&e.__esModule?e:{default:e}}var u=function(n){var u,t;n.mouseClicked=function(e){return t.mouseClicked(n,e.x,e.y),!1},n.keyTyped=function(){t.keyTyped(n.key,n)},n.keyPressed=function(){t.keyPressed(n.keyCode,n)},n.windowResized=function(){n.resizeCanvas(n.windowWidth,n.windowHeight)},n.preload=function(){a.default.playerImg=n.loadImage("./assets/img/Neko_Cat.png"),a.default.dogImg=n.loadImage("./assets/img/dog.png"),a.default.soundOffImg=n.loadImage("./assets/img/sound_off.png"),a.default.soundOnImg=n.loadImage("./assets/img/sound_on.png"),a.default.powerup=n.loadImage("./assets/img/powerup.png"),a.default.fish_images.push(n.loadImage("./assets/img/mouse.png")),a.default.fish_images.push(n.loadImage("./assets/img/mouse2.png")),a.default.fish_images.push(n.loadImage("./assets/img/mouse3.png")),a.default.fish_images.push(n.loadImage("./assets/img/mouse3.png")),a.default.fish_images.push(n.loadImage("./assets/img/mouse3.png")),n.soundFormats("wav"),o.default.addSound("intro",n.loadSound("./assets/sounds/Intro.mp3")),o.default.addSound("main",n.loadSound("./assets/sounds/Main.mp3")),o.default.addSound("fast",n.loadSound("./assets/sounds/main_fast.mp3")),o.default.addSound("slow",n.loadSound("./assets/sounds/main_slow.mp3")),o.default.addSound("grom",n.loadSound("./assets/sounds/grommel.mp3")),o.default.addSound("schurk",n.loadSound("./assets/sounds/schurk.mp3")),o.default.addSound("reverse",n.loadSound("./assets/sounds/Main_reverse.mp3")),o.default.addSound("double",n.loadSound("./assets/sounds/Double_points.mp3"))},n.setup=function(){n.createCanvas(n.windowWidth,n.windowHeight).parent("cv-container"),u=new e.default(n),t=new s.default(n)},n.draw=function(){!function(){n.clear();var e=n.color(255,149,79);n.background(e)}(),u.draw(n),t.draw(n),d.default.draw(n)}},t=new p5(u);
},{"../lib/p5.collide2d.min":"a33d","./background/waterbackground":"ra9V","./styles/styles.scss":"NUhz","./states/state":"RCzU","./global.settings":"C0ZN","./managers/announcement.manager":"eRRO","./managers/sound.manager":"MZwO"}]},{},["H99C"], null)
//# sourceMappingURL=/src.11bba4e6.js.map