{"version":3,"sources":["lib/p5.collide2d.min.js","src/background/bubble.js","src/background/waterbackground.js","src/global.settings.js","src/components/button.js","src/util/index.js","src/components/textfield.js","src/components/player.js","src/states/username.state.js","src/components/fish.js","src/util/announcement.js","src/managers/announcement.manager.js","src/managers/sound.manager.js","src/util/effects.js","src/components/powerup.js","src/components/enemy.js","src/components/projectile.js","src/components/boss.js","src/components/dog.js","src/states/game.state.js","src/states/menu.state.js","src/states/state.js","src/index.js"],"names":["console","log","p5","prototype","_collideDebug","collideDebug","i","collideRectRect","t","e","o","r","l","n","c","collideRectCircle","p","dist","collideCircleCircle","collidePointCircle","collidePointEllipse","s","d","sqrt","abs","collidePointRect","collidePointLine","collideLineCircle","u","h","pow","y","f","ellipse","collideLineLine","x","collideLineRect","left","right","top","bottom","collidePointPoly","length","collideCirclePoly","collideRectPoly","collideLinePoly","collidePolyPoly","collidePointTriangle","collidePointPoint","collidePointArc","createVector","rotate","copy","sub","dot","angleBetween","Bubble","exports","default","_createClass","sketch","size","_classCallCheck","xoff","random","width","height","speed","key","value","update","push","noStroke","fill","pop","reset","noise","_bubble","_interopRequireDefault","require","__esModule","_typeof","Symbol","iterator","constructor","a","TypeError","_defineProperties","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","_toPrimitive","toPrimitive","call","String","Number","WaterBackground","Math","bubbles","forEach","b","draw","GlobalSettings","invertColors","drawBlack","aboutUrl","enemySpeed","enemySize","debug","soundOn","postUrl","player_base_speed","fish_images","gameOver","window","_default","Button","w","tS","text","tX","tY","Error","rect","textSize","textAlign","CENTER","cb","wasButtonClicked","button","mX","mY","TextField","carret","counter","treshold","btn","substring","character","textWidth","_global","Player","usrn","name","cX","cY","angle","PI","img","playerImg","movingRight","score","effectText","pointsMultiplier","get","keyIsDown","LEFT_ARROW","RIGHT_ARROW","UP_ARROW","DOWN_ARROW","mouseX","mouseY","angleToMouse","atan2","dx","cos","dy","sin","mouseIsPressed","moveToMouse","move","imageMode","rectMode","CORNER","scale","image","concat","join","fish","type","addScore","powerup","getEffect","effect","includes","splice","_textfield","_button","_game","_player","_util","UsernameState","state","_this","elements","editText","playBtn","setText","setClickHandler","localStorage","setItem","setState","GameState","keyPressed","keyTyped","click","Fish","imgIndex","currentIndex","direction","jpMargin","player","Announcement","manager","maxSize","stroke","destroy","removeAnnouncement","_announcement","AnnouncementManager","announcements","announcement","indexOf","_effects","SoundManager","sounds","play","isPlaying","loop","stopAll","sound","playMode","isLooping","loopSound","setTimeout","playSound","_this2","clearTimeOuts","keys","stopSound","_sound","timeouts","to","clearTimeout","effects","sec","hasEffect","setSpeed","reverse","addAnnouncement","removeEffect","toggleFast","toggleSlow","doublePoints","Powerup","calcPos","base","floor","Enemy","strokeWeight","Projectile","fromX","fromY","toX","toY","target","source","vector","distance","reachedX","reachedY","_projectile","Boss","projectTilesRemaining","currentProjectiles","shoot","proj","hasReachedDestination","shift","outOfProjectiles","center","Dog","dogImg","_username","_fish","_menu","_powerup","_enemy","_boss","_dog","fishes","doges","powerups","enemies","MAX_POWERUP_CHANCE","buttons","tW","bW","restartBtn","Menu","playAgainBtn","bosses","canEat","eat","swapFishImages","handleBossSpawns","handleSpawns","enemy","addPower","handleBossDespawns","checkIfHitByBoss","boss","round","chance","actualChance","getChanceOfSpawningPowerup","maySpawnPowerup","_this3","Promise","_loop","nextImg","_this4","_this5","gamestate","playButton","getItem","infoBtn","title","textFont","State","soundOnImg","soundOffImg","initSound","masterVolume","mouseClicked","_waterbackground","_state","wbg","gs","ev","keyCode","windowResized","resizeCanvas","windowWidth","windowHeight","preload","loadImage","soundFormats","addSound","loadSound","setup","createCanvas","parent","clear","color","background","resetCv","app"],"mappings":"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","file":"src.11bba4e6.js","sourceRoot":"..","sourcesContent":["/*\r\nRepo: https://github.com/bmoren/p5.collide2D/\r\nCreated by http://benmoren.com\r\nSome functions and code modified version from http://www.jeffreythompson.org/collision-detection\r\nVersion 0.6 | Nov 28th, 2018\r\nCC BY-NC-SA 4.0\r\n*/\r\n\r\nconsole.log(\"### p5.collide ###\"),p5.prototype._collideDebug=!1,p5.prototype.collideDebug=function(i){_collideDebug=i},p5.prototype.collideRectRect=function(i,t,e,o,r,l,n,c){return i+e>=r&&i<=r+n&&t+o>=l&&t<=l+c},p5.prototype.collideRectCircle=function(i,t,e,o,r,l,n){var c=r,p=l;return r<i?c=i:r>i+e&&(c=i+e),l<t?p=t:l>t+o&&(p=t+o),this.dist(r,l,c,p)<=n/2},p5.prototype.collideCircleCircle=function(i,t,e,o,r,l){return this.dist(i,t,o,r)<=e/2+l/2},p5.prototype.collidePointCircle=function(i,t,e,o,r){return this.dist(i,t,e,o)<=r/2},p5.prototype.collidePointEllipse=function(i,t,e,o,r,l){var n=r/2,c=l/2;if(i>e+n||i<e-n||t>o+c||t<o-c)return!1;var p=i-e,s=t-o,d=c*this.sqrt(this.abs(n*n-p*p))/n;return s<=d&&s>=-d},p5.prototype.collidePointRect=function(i,t,e,o,r,l){return i>=e&&i<=e+r&&t>=o&&t<=o+l},p5.prototype.collidePointLine=function(i,t,e,o,r,l,n){var c=this.dist(i,t,e,o),p=this.dist(i,t,r,l),s=this.dist(e,o,r,l);return void 0===n&&(n=.1),c+p>=s-n&&c+p<=s+n},p5.prototype.collideLineCircle=function(i,t,e,o,r,l,n){var c=this.collidePointCircle(i,t,r,l,n),p=this.collidePointCircle(e,o,r,l,n);if(c||p)return!0;var s=i-e,d=t-o,u=this.sqrt(s*s+d*d),h=((r-i)*(e-i)+(l-t)*(o-t))/this.pow(u,2),y=i+h*(e-i),f=t+h*(o-t);return!!this.collidePointLine(y,f,i,t,e,o)&&(this._collideDebug&&this.ellipse(y,f,10,10),s=y-r,d=f-l,this.sqrt(s*s+d*d)<=n/2)},p5.prototype.collideLineLine=function(i,t,e,o,r,l,n,c,p){var s=((n-r)*(t-l)-(c-l)*(i-r))/((c-l)*(e-i)-(n-r)*(o-t)),d=((e-i)*(t-l)-(o-t)*(i-r))/((c-l)*(e-i)-(n-r)*(o-t));if(s>=0&&s<=1&&d>=0&&d<=1){if(this._collideDebug||p)var u=i+s*(e-i),h=t+s*(o-t);return this._collideDebug&&this.ellipse(u,h,10,10),!p||{x:u,y:h}}return!!p&&{x:!1,y:!1}},p5.prototype.collideLineRect=function(i,t,e,o,r,l,n,c,p){var s,d,u,h,y;return p?(s=this.collideLineLine(i,t,e,o,r,l,r,l+c,!0),d=this.collideLineLine(i,t,e,o,r+n,l,r+n,l+c,!0),u=this.collideLineLine(i,t,e,o,r,l,r+n,l,!0),h=this.collideLineLine(i,t,e,o,r,l+c,r+n,l+c,!0),y={left:s,right:d,top:u,bottom:h}):(s=this.collideLineLine(i,t,e,o,r,l,r,l+c),d=this.collideLineLine(i,t,e,o,r+n,l,r+n,l+c),u=this.collideLineLine(i,t,e,o,r,l,r+n,l),h=this.collideLineLine(i,t,e,o,r,l+c,r+n,l+c)),!!(s||d||u||h)&&(!p||y)},p5.prototype.collidePointPoly=function(i,t,e){for(var o=!1,r=0,l=0;l<e.length;l++){r=l+1,r==e.length&&(r=0);var n=e[l],c=e[r];(n.y>t&&c.y<t||n.y<t&&c.y>t)&&i<(c.x-n.x)*(t-n.y)/(c.y-n.y)+n.x&&(o=!o)}return o},p5.prototype.collideCirclePoly=function(i,t,e,o,r){void 0==r&&(r=!1);for(var l=0,n=0;n<o.length;n++){l=n+1,l==o.length&&(l=0);var c=o[n],p=o[l];if(this.collideLineCircle(c.x,c.y,p.x,p.y,i,t,e))return!0}if(1==r){if(this.collidePointPoly(i,t,o))return!0}return!1},p5.prototype.collideRectPoly=function(i,t,e,o,r,l){void 0==l&&(l=!1);for(var n=0,c=0;c<r.length;c++){n=c+1,n==r.length&&(n=0);var p=r[c],s=r[n];if(this.collideLineRect(p.x,p.y,s.x,s.y,i,t,e,o))return!0;if(1==l){if(this.collidePointPoly(i,t,r))return!0}}return!1},p5.prototype.collideLinePoly=function(i,t,e,o,r){for(var l=0,n=0;n<r.length;n++){l=n+1,l==r.length&&(l=0);var c=r[n].x,p=r[n].y,s=r[l].x,d=r[l].y;if(this.collideLineLine(i,t,e,o,c,p,s,d))return!0}return!1},p5.prototype.collidePolyPoly=function(i,t,e){void 0==e&&(e=!1);for(var o=0,r=0;r<i.length;r++){o=r+1,o==i.length&&(o=0);var l=i[r],n=i[o],c=this.collideLinePoly(l.x,l.y,n.x,n.y,t);if(c)return!0;if(1==e&&(c=this.collidePointPoly(t[0].x,t[0].y,i)))return!0}return!1},p5.prototype.collidePointTriangle=function(i,t,e,o,r,l,n,c){var p=this.abs((r-e)*(c-o)-(n-e)*(l-o));return this.abs((e-i)*(l-t)-(r-i)*(o-t))+this.abs((r-i)*(c-t)-(n-i)*(l-t))+this.abs((n-i)*(o-t)-(e-i)*(c-t))==p},p5.prototype.collidePointPoint=function(i,t,e,o,r){return void 0==r&&(r=0),this.dist(i,t,e,o)<=r},p5.prototype.collidePointArc=function(i,t,e,o,r,l,n,c){void 0==c&&(c=0);var p=this.createVector(i,t),s=this.createVector(e,o),d=this.createVector(r,0).rotate(l),u=p.copy().sub(s);if(p.dist(s)<=r+c){var h=d.dot(u),y=d.angleBetween(u);if(h>0&&y<=n/2&&y>=-n/2)return!0}return!1};\r\n","export default class Bubble {\r\n  constructor(sketch, size) {\r\n    this.xoff = sketch.random() * sketch.width;\r\n    this.size = size;\r\n    this.x = sketch.random() * sketch.width;\r\n    this.y = sketch.height;\r\n    this.speed = sketch.random() * 4;\r\n  }\r\n\r\n  draw(sketch) {\r\n    this.update(sketch);\r\n    sketch.push();\r\n    sketch.noStroke();\r\n    sketch.fill('rgba(100,250,33,0.5)');\r\n    sketch.ellipse(this.x, this.y, this.size, this.size);\r\n    sketch.pop();\r\n  }\r\n\r\n  update(sketch) {\r\n    this.y -= this.speed;\r\n    if (this.y < 0) {\r\n      this.reset(sketch);\r\n    }\r\n    this.xoff = this.xoff + 0.0025;\r\n    this.x = sketch.noise(this.xoff) * sketch.width;\r\n  }\r\n\r\n  reset(sketch) {\r\n    this.y = sketch.height + this.size * 10;\r\n    this.x = sketch.random() * sketch.width;\r\n    this.speed = sketch.random() * 3;\r\n  }\r\n}\r\n","import Bubble from './bubble';\r\n\r\nexport default class WaterBackground {\r\n  constructor(sketch) {\r\n    const amountOfBubbles = Math.random() * 20;\r\n    this.bubbles = [];\r\n    // for (let i = 0; i < amountOfBubbles; i += 1) {\r\n    //   this.bubbles.push(new Bubble(sketch, sketch.random() * 40));\r\n    // }\r\n  }\r\n\r\n  draw(sketch) {\r\n    this.bubbles.forEach((b) => b.draw(sketch));\r\n  }\r\n}\r\n","const GlobalSettings = {\r\n  invertColors: false,\r\n  drawBlack: false,\r\n  aboutUrl: '/highscore/',\r\n  enemySpeed: 2,\r\n  enemySize: 50,\r\n  debug: false,\r\n  soundOn: false,\r\n  postUrl: '/api/score/',\r\n  player_base_speed: 3,\r\n  fish_images: [],\r\n  gameOver: false,\r\n};\r\nwindow.GlobalSettings = GlobalSettings;\r\n\r\nexport default GlobalSettings;\r\n","export default class Button {\r\n  constructor(x, y, w, h) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.w = w;\r\n    this.h = h;\r\n    this.tS = h - 10;\r\n  }\r\n\r\n  setText(text) {\r\n    this.text = text;\r\n    // const tW = sketch.textWidth(this.text);\r\n    this.tX = this.x + this.w / 2;\r\n    this.tY = this.y + this.h / 2;\r\n  }\r\n\r\n  draw(sketch) {\r\n    if (!this.text) {\r\n      throw new Error(\r\n        'MenuButton.draw() was called but no text was specified. Did you forget to call .setText() ?',\r\n      );\r\n    }\r\n\r\n    sketch.push();\r\n    sketch.rect(this.x, this.y, this.w, this.h);\r\n\r\n    sketch.textSize(this.tS);\r\n    sketch.textAlign(sketch.CENTER, sketch.CENTER);\r\n    sketch.text(this.text, this.tX, this.tY);\r\n\r\n    sketch.pop();\r\n  }\r\n\r\n  setClickHandler(cb) {\r\n    this.cb = cb;\r\n  }\r\n\r\n  click() {\r\n    if (!this.cb) {\r\n      throw new Error(\r\n        'MenuButton.click() was called but no callback was specified. Did you forget to call .setClickHandler() ?',\r\n      );\r\n    }\r\n    this.cb();\r\n  }\r\n}\r\n","// eslint-disable-next-line import/prefer-default-export\r\nexport const wasButtonClicked = (sketch, button, mX, mY) => sketch.collidePointRect(\r\n  mX,\r\n  mY,\r\n  button.x,\r\n  button.y,\r\n  button.w,\r\n  button.h,\r\n);\r\n","export default class TextField {\r\n  constructor(x, y, w, h) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.w = w;\r\n    this.h = h;\r\n    this.tS = h - 10;\r\n    this.text = '';\r\n    this.carret = '|';\r\n    this.counter = 0;\r\n    this.treshold = 75;\r\n  }\r\n\r\n  draw(sketch) {\r\n    sketch.push();\r\n    sketch.rect(this.x, this.y, this.w, this.h);\r\n\r\n    sketch.textSize(this.tS);\r\n    sketch.fill('black');\r\n    sketch.textAlign(sketch.CENTER, sketch.CENTER);\r\n    const tX = this.x + this.w / 2;\r\n    const tY = this.y + this.h / 2;\r\n    if (this.counter > this.treshold / 2) {\r\n      sketch.text(this.text + this.carret, tX, tY);\r\n      if (this.counter > this.treshold) this.counter = 0;\r\n    } else {\r\n      sketch.text(this.text, tX, tY);\r\n    }\r\n\r\n    this.counter += 1;\r\n    sketch.pop();\r\n  }\r\n\r\n  keyPressed(btn) {\r\n    // sketch.BACKSPACE = 8\r\n    if (btn === 8) {\r\n      this.text = this.text.substring(0, this.text.length - 1);\r\n    }\r\n  }\r\n\r\n  keyTyped(character, sketch) {\r\n    this.text += character;\r\n    sketch.push();\r\n    sketch.textSize(this.tS);\r\n    const tW = sketch.textWidth(this.text);\r\n    if (tW > this.w) {\r\n      this.text = this.text.substring(0, this.text.length - 1);\r\n    }\r\n    sketch.pop();\r\n  }\r\n}\r\n","import GlobalSettings from '../global.settings';\r\n\r\nexport default class Player {\r\n  constructor(sketch, usrn) {\r\n    this.name = usrn;\r\n    this.size = 20;\r\n    this.cX = sketch.width / 2 + 30 * (sketch.random() * -2 + 1);\r\n    this.cY = sketch.height / 2 + 30 * (sketch.random() * -2 + 1);\r\n    this.angle = sketch.PI / 2;\r\n    this.img = GlobalSettings.playerImg;\r\n    this.movingRight = true;\r\n    this.speed = GlobalSettings.player_base_speed;\r\n    this.score = 0;\r\n    this.effectText = [];\r\n    this.pointsMultiplier = 1;\r\n  }\r\n\r\n  w() {\r\n    // Keeping in mind the aspect ratio of the player image\r\n    return this.size * 2;\r\n  }\r\n\r\n  h() {\r\n    return this.size * 2;\r\n  }\r\n\r\n  get center() {\r\n    return {\r\n      x: this.cX - this.w() / 2,\r\n      y: this.cY - this.h() / 2,\r\n    };\r\n  }\r\n\r\n  move(sketch) {\r\n    if (sketch.keyIsDown(sketch.LEFT_ARROW)) {\r\n      this.movingRight = false;\r\n      this.cX -= this.speed;\r\n    }\r\n    if (sketch.keyIsDown(sketch.RIGHT_ARROW)) {\r\n      this.movingRight = true;\r\n      this.cX += this.speed;\r\n    }\r\n    if (sketch.keyIsDown(sketch.UP_ARROW)) {\r\n      this.cY -= this.speed;\r\n    }\r\n    if (sketch.keyIsDown(sketch.DOWN_ARROW)) {\r\n      this.cY += this.speed;\r\n    }\r\n    if (this.cY > sketch.height) {\r\n      this.cY = 0;\r\n    } else if (this.cY < 0) {\r\n      this.cY = sketch.height;\r\n    }\r\n    if (this.cX > sketch.width) {\r\n      this.cX = 0;\r\n    } else if (this.cX < 0) {\r\n      this.cX = sketch.width;\r\n    }\r\n  }\r\n\r\n  moveToMouse(sketch) {\r\n    const mouseX = sketch.mouseX;\r\n    const mouseY = sketch.mouseY;\r\n    \r\n    const angleToMouse = sketch.atan2(mouseY - this.cY, mouseX - this.cX);\r\n    \r\n    if (mouseX - this.cX > 0) this.movingRight = true;\r\n    else this.movingRight = false;\r\n    // Calculate the distance to move in x and y directions\r\n    const dx = sketch.cos(angleToMouse) * this.speed;\r\n    const dy = sketch.sin(angleToMouse) * this.speed;\r\n    \r\n    // Update player's position\r\n    this.cX += dx;\r\n    this.cY += dy;\r\n  }\r\n\r\n  draw(sketch) {\r\n    if (sketch.mouseIsPressed) {\r\n      this.moveToMouse(sketch);\r\n    }\r\n    this.move(sketch);\r\n    sketch.push();\r\n    const x = this.cX - this.w() / 2;\r\n    const y = this.cY - this.h() / 2;\r\n    sketch.imageMode(sketch.CENTER);\r\n    sketch.rectMode(sketch.CORNER);\r\n    if (this.movingRight) {\r\n      sketch.scale(-1.0, 1.0);\r\n      sketch.image(this.img, -1 * x, y, this.w(), this.h());\r\n    } else {\r\n      sketch.image(this.img, x, y, this.w(), this.h());\r\n    }\r\n    sketch.pop();\r\n    if (GlobalSettings.debug) sketch.rect(x - this.w() / 2, y - this.h() / 2, this.w(), this.h());\r\n    sketch.push();\r\n    sketch.textSize(32);\r\n    let t = `${this.name}\\nScore: ${this.score}\\n`;\r\n    if (this.effectText.length !== 0) {\r\n      t += 'Effects:\\n';\r\n    }\r\n    t += this.effectText.join('\\n');\r\n\r\n    sketch.text(t, 10, 30);\r\n    sketch.pop();\r\n    // if (!(this.effectText.length === 0)) {\r\n    //   this.resetStats();\r\n    // }\r\n  }\r\n\r\n  canEat(sketch, fish) {\r\n    const x = this.cX - this.w() / 2;\r\n    const y = this.cY - this.h() / 2;\r\n    // if (fish.type === 'dog') return false;\r\n    return sketch.collideRectCircle(\r\n      x - this.w() / 2,\r\n      y - this.h() / 2,\r\n      this.w(),\r\n      this.h(),\r\n      fish.x,\r\n      fish.y,\r\n      fish.size,\r\n      fish.size,\r\n    );\r\n  }\r\n\r\n  eat(sketch, fish) {\r\n    if (fish.type === 'dog') return;\r\n    this.size += 1;\r\n    if (sketch.random() > 0.5) {\r\n      // soundManager.playSound(\"grom\");\r\n    }\r\n    fish.reset(sketch, this);\r\n    this.addScore();\r\n  }\r\n\r\n  addPower(powerup) {\r\n    const power = powerup.getEffect(this.score);\r\n    power.effect(this, 10);\r\n  }\r\n\r\n  hasEffect(name) {\r\n    return this.effectText.includes(name);\r\n  }\r\n\r\n  removeEffect(name) {\r\n    for (let i = this.effectText.length - 1; i >= 0; i -= 1) {\r\n      if (this.effectText[i] === name) {\r\n        this.effectText.splice(i, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  addScore() {\r\n    this.score += this.pointsMultiplier;\r\n  }\r\n\r\n  resetStats() {\r\n    this.speed = GlobalSettings.player_base_speed;\r\n    this.pointsMultiplier = 1;\r\n  }\r\n\r\n  setSpeed(speed) {\r\n    this.speed = speed;\r\n  }\r\n}\r\n","import TextField from '../components/textfield';\r\nimport Button from '../components/button';\r\nimport GameState from './game.state';\r\nimport Player from '../components/player';\r\nimport { wasButtonClicked } from '../util';\r\n\r\nexport default class UsernameState {\r\n  constructor(sketch, state) {\r\n    this.state = state;\r\n\r\n    this.elements = [];\r\n\r\n    const w = sketch.width / 2;\r\n    const h = 50;\r\n    const x = sketch.width / 2 - w / 2;\r\n    let y = sketch.height / 2;\r\n    this.editText = new TextField(x, y, w, h);\r\n\r\n    this.elements.push(this.editText);\r\n\r\n    y += 75;\r\n    this.playBtn = new Button(x, y, w, h);\r\n    this.playBtn.setText('Play Game');\r\n    this.playBtn.setClickHandler(() => {\r\n      localStorage.setItem('username', this.editText.text);\r\n      this.state.setState(\r\n        new GameState(sketch, this.state, new Player(sketch, this.editText.text)),\r\n      );\r\n    });\r\n\r\n    this.elements.push(this.playBtn);\r\n    console.log(this);\r\n  }\r\n\r\n  draw(sketch) {\r\n    sketch.push();\r\n    sketch.textSize(32);\r\n    sketch.textAlign(sketch.CENTER, sketch.CENTER);\r\n    const x = sketch.width / 2;\r\n    const y = sketch.height / 2 - 50;\r\n    sketch.text('Please enter your username', x, y);\r\n    sketch.pop();\r\n    for (let i = 0; i < this.elements.length; i += 1) {\r\n      this.elements[i].draw(sketch);\r\n    }\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  destroy() {\r\n    // if (soundManager.isPlaying(\"intro\")) soundManager.stopSound(\"intro\");\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  initSound() {}\r\n\r\n  keyPressed(btn) {\r\n    this.editText.keyPressed(btn);\r\n  }\r\n\r\n  keyTyped(character, sketch) {\r\n    this.editText.keyTyped(character, sketch);\r\n  }\r\n\r\n  mouseClicked(sketch, mX, mY) {\r\n    if (wasButtonClicked(sketch, this.playBtn, mX, mY)) {\r\n      this.playBtn.click();\r\n    }\r\n  }\r\n}\r\n","import GlobalSettings from '../global.settings';\r\n\r\nexport default class Fish {\r\n  constructor(sketch, imgIndex) {\r\n    this.type = 'rat';\r\n    this.size = 20;\r\n    const left = Math.random() < 0.5;\r\n    if (left) {\r\n      this.x = Math.random() * 300;\r\n    } else {\r\n      this.x = sketch.width - Math.random() * 300;\r\n    }\r\n    this.y = Math.random() * sketch.height;\r\n    this.currentIndex = imgIndex;\r\n    this.img = GlobalSettings.fish_images[this.currentIndex];\r\n    this.direction = [Math.random() * 2 - 1, Math.random() * 2 - 1];\r\n    this.jpMargin = 12;\r\n  }\r\n\r\n  draw(sketch) {\r\n    this.update(sketch);\r\n    sketch.push();\r\n    sketch.imageMode(sketch.CENTER);\r\n    if (GlobalSettings.debug) sketch.ellipse(this.x, this.y, this.size, this.size);\r\n    sketch.image(this.img, this.x, this.y, this.size + this.jpMargin, this.size + this.jpMargin);\r\n\r\n    sketch.pop();\r\n  }\r\n\r\n  update(sketch) {\r\n    this.x = this.x + 1 * this.direction[0];\r\n    this.y = this.y + 1 * this.direction[1];\r\n\r\n    if (this.x > sketch.width + this.size / 2) {\r\n      this.x = 0;\r\n    }\r\n    if (this.x < 0 - this.size / 2) {\r\n      this.x = sketch.width;\r\n    }\r\n    if (this.y > sketch.height + this.size / 2) {\r\n      this.y = 0;\r\n    }\r\n    if (this.y < 0 - this.size / 2) {\r\n      this.y = sketch.height;\r\n    }\r\n  }\r\n\r\n  reset(sketch, player) {\r\n    this.size = 20;\r\n    // eslint-disable-next-line no-mixed-operators\r\n    this.x = player.cX + (sketch.width / 2 * sketch.random() + 50);\r\n    // eslint-disable-next-line no-mixed-operators\r\n    this.y = player.cY + (sketch.height / 2 * sketch.random() + 50);\r\n    this.direction = [sketch.random() * 2 - 1, sketch.random() * 2 - 1];\r\n  }\r\n\r\n  // nextImg() {\r\n  //   this.currentIndex += 1;\r\n  //   if (this.currentIndex >= GlobalSettings.fish_images.length) {\r\n  //     this.currentIndex = 0;\r\n  //   }\r\n  //   this.img = GlobalSettings.fish_images[this.currentIndex];\r\n  // }\r\n}\r\n","export default class Announcement {\r\n  constructor(text, manager) {\r\n    this.text = text;\r\n    this.manager = manager;\r\n    this.maxSize = 72;\r\n    this.textSize = 24;\r\n  }\r\n\r\n  draw(sketch) {\r\n    this.update();\r\n    sketch.push();\r\n    sketch.fill('white');\r\n    sketch.stroke(this.textSize);\r\n    sketch.textAlign(sketch.CENTER, sketch.CENTER);\r\n    sketch.textSize(this.textSize);\r\n    sketch.text(this.text, 0, 0, sketch.width, sketch.height);\r\n    sketch.pop();\r\n  }\r\n\r\n  update() {\r\n    this.textSize += 0.5;\r\n    if (this.textSize >= this.maxSize) {\r\n      this.destroy();\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    this.manager.removeAnnouncement(this);\r\n  }\r\n}\r\n","import Announcement from '../util/announcement';\r\n\r\nclass AnnouncementManager {\r\n  constructor() {\r\n    this.announcements = [];\r\n  }\r\n\r\n  draw(sketch) {\r\n    if (this.announcements.length > 0) {\r\n      this.announcements[0].draw(sketch);\r\n    }\r\n  }\r\n\r\n  addAnnouncement(text) {\r\n    this.announcements.push(new Announcement(text, this));\r\n  }\r\n\r\n  removeAnnouncement(announcement) {\r\n    const i = this.announcements.indexOf(announcement);\r\n    this.announcements.splice(i, 1);\r\n  }\r\n}\r\n\r\nexport default new AnnouncementManager();\r\n","import GlobalSettings from '../global.settings';\r\nimport { clearTimeOuts } from '../util/effects';\r\n\r\nclass SoundManager {\r\n  constructor() {\r\n    this.sounds = {};\r\n  }\r\n\r\n  playSound(name) {\r\n    this.sounds[name].play();\r\n  }\r\n\r\n  loopSound(name) {\r\n    if (!this.isPlaying(name)) this.sounds[name].loop();\r\n  }\r\n\r\n  stopSound(name) {\r\n    this.sounds[name].stopAll();\r\n  }\r\n\r\n  addSound(name, sound) {\r\n    sound.playMode('sustain');\r\n    this.sounds[name] = sound;\r\n  }\r\n\r\n  isPlaying(name) {\r\n    return this.sounds[name].isPlaying() || this.sounds[name].isLooping();\r\n  }\r\n\r\n  reverse() {\r\n    if (this.isPlaying('reverse')) {\r\n      this.stopAll();\r\n      this.loopSound('main');\r\n    } else if (!GlobalSettings.gameOver) {\r\n      this.stopAll();\r\n      this.loopSound('reverse');\r\n    }\r\n  }\r\n\r\n  gameOver() {\r\n    this.stopAll();\r\n    setTimeout(() => {\r\n      this.loopSound('main');\r\n      this.playSound('schurk');\r\n    }, 100);\r\n  }\r\n\r\n  stopAll() {\r\n    clearTimeOuts();\r\n    Object.keys(this.sounds).forEach((name) => {\r\n      if (this.isPlaying(name)) {\r\n        this.stopSound(name);\r\n      }\r\n    });\r\n  }\r\n\r\n  doublePoints() {\r\n    if (this.isPlaying('double')) {\r\n      this.stopAll();\r\n      this.loopSound('main');\r\n    } else {\r\n      this.stopAll();\r\n      this.loopSound('double');\r\n    }\r\n  }\r\n\r\n  toggleSlow() {\r\n    if (this.isPlaying('slow')) {\r\n      this.stopAll();\r\n      this.loopSound('main');\r\n    } else {\r\n      this.stopAll();\r\n      this.loopSound('slow');\r\n    }\r\n  }\r\n\r\n  toggleFast() {\r\n    if (this.isPlaying('fast')) {\r\n      this.stopAll();\r\n      this.loopSound('main');\r\n    } else {\r\n      this.stopAll();\r\n      this.loopSound('fast');\r\n    }\r\n  }\r\n}\r\n\r\nexport default new SoundManager();\r\n","import AnnouncementManager from '../managers/announcement.manager';\r\nimport SoundManager from '../managers/sound.manager';\r\n\r\nlet timeouts = [];\r\n\r\nexport const clearTimeOuts = () => {\r\n  timeouts.forEach((to) => {\r\n    clearTimeout(to);\r\n  });\r\n  timeouts = [];\r\n};\r\n\r\nexport const effects = [\r\n  {\r\n    name: 'reverse',\r\n    effect(player, sec) {\r\n      if (!player.hasEffect(this.name)) {\r\n        player.setSpeed(player.speed * -1);\r\n        const n = this.name;\r\n        SoundManager.reverse(player);\r\n        AnnouncementManager.addAnnouncement('Reverse!');\r\n        player.effectText.push(n);\r\n        timeouts.push(\r\n          setTimeout(() => {\r\n            player.setSpeed(player.speed * -1);\r\n            SoundManager.reverse(player);\r\n            player.removeEffect(n);\r\n          }, sec * 1000),\r\n        );\r\n      }\r\n    },\r\n  },\r\n  {\r\n    name: 'speedup',\r\n    effect(player, sec) {\r\n      if (!player.hasEffect(this.name)) {\r\n        player.setSpeed(player.speed * 2);\r\n        const n = this.name;\r\n        AnnouncementManager.addAnnouncement('Speedup!');\r\n        SoundManager.toggleFast();\r\n        player.effectText.push(n);\r\n        timeouts.push(setTimeout(() => {\r\n          player.setSpeed(player.speed / 2);\r\n          SoundManager.toggleFast();\r\n          player.removeEffect(n);\r\n        }, sec * 1000));\r\n      }\r\n    },\r\n  },\r\n  {\r\n    name: 'slowdown',\r\n    effect(player, sec) {\r\n      if (!player.hasEffect(this.name)) {\r\n        player.setSpeed(player.speed / 2);\r\n        const n = this.name;\r\n        SoundManager.toggleSlow();\r\n        AnnouncementManager.addAnnouncement('Slowdown!');\r\n        player.effectText.push(n);\r\n        timeouts.push(\r\n          setTimeout(() => {\r\n            player.setSpeed(player.speed * 2);\r\n            player.removeEffect(n);\r\n            SoundManager.toggleSlow();\r\n          }, sec * 1000),\r\n        );\r\n      }\r\n    },\r\n  },\r\n  {\r\n    name: 'double points',\r\n    effect(player, sec) {\r\n      if (!player.hasEffect(this.name)) {\r\n        player.pointsMultiplier = 2;\r\n        const n = this.name;\r\n        SoundManager.doublePoints();\r\n        AnnouncementManager.addAnnouncement('Double points!');\r\n        player.effectText.push(n);\r\n        timeouts.push(\r\n          setTimeout(() => {\r\n            player.pointsMultiplier = 1;\r\n            player.removeEffect(n);\r\n            SoundManager.doublePoints();\r\n          }, sec * 1000),\r\n        );\r\n      }\r\n    },\r\n  },\r\n];\r\n","import GlobalSettings from '../global.settings';\r\nimport { effects } from '../util/effects';\r\n\r\nexport default class Powerup {\r\n  constructor(sketch, player) {\r\n    this.size = 25;\r\n\r\n    this.img = GlobalSettings.powerup;\r\n\r\n    const calcPos = (base) => (((base / 2) * sketch.random()) + 50);\r\n\r\n    this.x = player.cX + calcPos(sketch.width);\r\n    this.y = player.cY + calcPos(sketch.height);\r\n    this.direction = [sketch.random() * 2 - 1, sketch.random() * 2 - 1];\r\n  }\r\n\r\n  draw(sketch) {\r\n    this.update(sketch);\r\n    sketch.push();\r\n    sketch.fill('red');\r\n    // ellipse(this.x, this.y, this.size, this.size);\r\n    sketch.imageMode(sketch.CENTER);\r\n    sketch.image(this.img, this.x, this.y, this.size * 2.23, this.size);\r\n    if (GlobalSettings.debug) sketch.ellipse(this.x, this.y, this.size * 2.3, this.size);\r\n    sketch.pop();\r\n  }\r\n\r\n  update(sketch) {\r\n    this.x = this.x + 1 * this.direction[0];\r\n    this.y = this.y + 1 * this.direction[1];\r\n\r\n    if (this.x > sketch.width + this.size / 2) {\r\n      this.x = 0;\r\n    }\r\n    if (this.y > sketch.height + this.size / 2) {\r\n      this.y = 0;\r\n    }\r\n    if (this.x < 0 - this.size / 2) {\r\n      this.x = sketch.width;\r\n    }\r\n    if (this.y < 0 - this.size / 2) {\r\n      this.y = sketch.height;\r\n    }\r\n  }\r\n\r\n  // eslint-disable-next-line no-unused-vars,class-methods-use-this\r\n  getEffect(score) {\r\n    return effects[Math.floor(Math.random() * effects.length)];\r\n  }\r\n}\r\n","import GlobalSettings from '../global.settings';\r\n\r\nexport default class Enemy {\r\n  constructor(sketch) {\r\n    const top = sketch.random() < 0.5;\r\n    if (top) {\r\n      this.y = sketch.random() * 200;\r\n    } else {\r\n      this.y = sketch.height - sketch.random() * 200;\r\n    }\r\n    this.x = sketch.random() * sketch.width;\r\n    this.size = GlobalSettings.enemySize;\r\n    this.direction = [sketch.random() * 2 - 1, sketch.random() * 2 - 1];\r\n    this.speed = GlobalSettings.enemySpeed;\r\n  }\r\n\r\n  update(sketch) {\r\n    this.x = this.x + GlobalSettings.enemySpeed * this.direction[0];\r\n    this.y = this.y + GlobalSettings.enemySpeed * this.direction[1];\r\n\r\n    if (this.x > sketch.width + this.size / 2) {\r\n      this.x = 0;\r\n    }\r\n    if (this.x < 0 - this.size / 2) {\r\n      this.x = sketch.width;\r\n    }\r\n    if (this.y > sketch.height + this.size / 2) {\r\n      this.y = 0;\r\n    }\r\n    if (this.y < 0 - this.size / 2) {\r\n      this.y = sketch.height;\r\n    }\r\n  }\r\n\r\n  draw(sketch) {\r\n    this.update();\r\n    sketch.push();\r\n    sketch.fill('yellow');\r\n    sketch.stroke('red');\r\n    sketch.strokeWeight(10);\r\n    sketch.ellipse(this.x, this.y, this.size, this.size);\r\n    sketch.noStroke();\r\n    sketch.fill('blue');\r\n    sketch.ellipse(this.x, this.y, this.size - 25, this.size - 25);\r\n    if (GlobalSettings.debug) sketch.ellipse(this.x, this.y, this.size, this.size);\r\n    sketch.pop();\r\n  }\r\n}\r\n","export default class Projectile {\r\n  constructor(fromX, fromY, toX, toY) {\r\n    this.target = { x: toX, y: toY };\r\n    this.source = { x: fromX, y: fromY };\r\n    this.x = this.source.x;\r\n    this.y = this.source.y;\r\n    this.speed = 4;\r\n    this.size = 15;\r\n  }\r\n\r\n  update() {\r\n    const vector = {\r\n      x: this.target.x - this.x,\r\n      y: this.target.y - this.y,\r\n    };\r\n    const distance = Math.sqrt((vector.x ** 2 + vector.y ** 2));\r\n\r\n    this.x += (vector.x * this.speed) / distance;\r\n    this.y += (vector.y * this.speed) / distance;\r\n  }\r\n\r\n  draw(sketch) {\r\n    this.update();\r\n    sketch.push();\r\n    sketch.fill('yellow');\r\n    sketch.ellipse(this.x, this.y, this.size, this.size);\r\n    sketch.pop();\r\n  }\r\n\r\n  hasReachedDestination() {\r\n    const reachedX = Math.abs(this.x - this.target.x) < 10;\r\n    const reachedY = Math.abs(this.y - this.target.y) < 10;\r\n    return reachedX && reachedY;\r\n  }\r\n}\r\n","import Projectile from './projectile';\r\n\r\nexport default class Boss {\r\n  constructor(sketch) {\r\n    this.projectTilesRemaining = 20;\r\n    this.currentProjectiles = [];\r\n\r\n    this.x = sketch.random() * sketch.width;\r\n    this.y = sketch.random() * sketch.height;\r\n    this.counter = 0;\r\n  }\r\n\r\n  update(player) {\r\n    this.counter += 1;\r\n\r\n    if (this.counter % 50 === 0) {\r\n      this.shoot(player);\r\n    }\r\n  }\r\n\r\n  draw(sketch, player) {\r\n    this.update(player);\r\n    sketch.push();\r\n    sketch.fill('yellow');\r\n    sketch.ellipse(this.x, this.y, 25, 25);\r\n    sketch.pop();\r\n    this.currentProjectiles.forEach((proj) => {\r\n      if (proj.hasReachedDestination()) {\r\n        this.currentProjectiles.shift();\r\n      } else {\r\n        proj.draw(sketch);\r\n      }\r\n    });\r\n  }\r\n\r\n  shoot(player) {\r\n    if (!this.outOfProjectiles()) {\r\n      this.currentProjectiles.push(new Projectile(this.x,\r\n        this.y,\r\n        player.center.x,\r\n        player.center.y));\r\n    }\r\n    this.projectTilesRemaining -= 1;\r\n  }\r\n\r\n  outOfProjectiles() {\r\n    return this.projectTilesRemaining <= 0;\r\n  }\r\n}\r\n","import GlobalSettings from '../global.settings';\r\n\r\nexport default class Dog {\r\n  constructor(sketch) {\r\n    this.type = 'dog';\r\n    this.size = 50;\r\n    const left = Math.random() < 0.5;\r\n    if (left) {\r\n      this.x = Math.random() * 300;\r\n    } else {\r\n      this.x = sketch.width - Math.random() * 300;\r\n    }\r\n    this.y = Math.random() * sketch.height;\r\n    // this.currentIndex = imgIndex;\r\n    this.img = GlobalSettings.dogImg;\r\n    this.direction = [Math.random() * 2 - 1, Math.random() * 2 - 1];\r\n    this.jpMargin = 12;\r\n  }\r\n\r\n  draw(sketch) {\r\n    this.update(sketch);\r\n    sketch.push();\r\n    sketch.imageMode(sketch.CENTER);\r\n    if (GlobalSettings.debug) sketch.ellipse(this.x, this.y, this.size, this.size);\r\n    sketch.image(this.img, this.x, this.y, this.size + this.jpMargin, this.size + this.jpMargin);\r\n\r\n    sketch.pop();\r\n  }\r\n\r\n  update(sketch) {\r\n    this.x = this.x + 1 * this.direction[0];\r\n    this.y = this.y + 1 * this.direction[1];\r\n\r\n    if (this.x > sketch.width + this.size / 2) {\r\n      this.x = 0;\r\n    }\r\n    if (this.x < 0 - this.size / 2) {\r\n      this.x = sketch.width;\r\n    }\r\n    if (this.y > sketch.height + this.size / 2) {\r\n      this.y = 0;\r\n    }\r\n    if (this.y < 0 - this.size / 2) {\r\n      this.y = sketch.height;\r\n    }\r\n  }\r\n\r\n  reset(sketch, player) {\r\n    this.size = 50;\r\n    // eslint-disable-next-line no-mixed-operators\r\n    this.x = player.cX + (sketch.width / 2 * sketch.random() + 50);\r\n    // eslint-disable-next-line no-mixed-operators\r\n    this.y = player.cY + (sketch.height / 2 * sketch.random() + 50);\r\n    this.direction = [sketch.random() * 2 - 1, sketch.random() * 2 - 1];\r\n  }\r\n\r\n  // nextImg() {\r\n  //   this.currentIndex += 1;\r\n  //   if (this.currentIndex >= GlobalSettings.fish_images.length) {\r\n  //     this.currentIndex = 0;\r\n  //   }\r\n  //   this.img = GlobalSettings.fish_images[this.currentIndex];\r\n  // }\r\n}\r\n","import UsernameState from './username.state';\r\nimport GlobalSettings from '../global.settings';\r\nimport Fish from '../components/fish';\r\nimport Button from '../components/button';\r\nimport Menu from './menu.state';\r\nimport Player from '../components/player';\r\nimport Powerup from '../components/powerup';\r\nimport { wasButtonClicked } from '../util';\r\nimport SoundManager from '../managers/sound.manager';\r\nimport Enemy from '../components/enemy';\r\nimport Boss from '../components/boss';\r\nimport Dog from '../components/dog';\r\n\r\nexport default class GameState {\r\n  constructor(sketch, state, player) {\r\n    if (!player) {\r\n      state.setState(new UsernameState(sketch, state));\r\n    }\r\n\r\n    this.fishes = [];\r\n    this.doges = [];\r\n    this.powerups = [];\r\n    this.enemies = [];\r\n\r\n    GlobalSettings.gameOver = false;\r\n    this.MAX_POWERUP_CHANCE = 0.2;\r\n    this.buttons = [];\r\n\r\n    this.state = state;\r\n\r\n    for (let i = 0; i < 30; i += 1) {\r\n      this.fishes.push(new Fish(sketch, 0));\r\n    }\r\n    for (let i = 0; i < 15; i += 1) {\r\n      this.fishes.push(new Dog(sketch));\r\n    }\r\n    for (let i = 0; i < sketch.random() * 8 + 3; i += 1) {\r\n      this.enemies.push(new Enemy(sketch));\r\n    }\r\n    this.player = player;\r\n\r\n    sketch.textSize(40);\r\n    let t = 'Main menu';\r\n    let tW = sketch.textWidth(t);\r\n    const bW = tW + 45;\r\n    this.restartBtn = new Button(sketch.width / 2 - bW / 2, sketch.height / 2, bW, 50);\r\n    this.restartBtn.setText(t);\r\n    this.restartBtn.setClickHandler(() => {\r\n      this.state.setState(new Menu(sketch, this.state));\r\n    });\r\n    this.buttons.push(this.restartBtn);\r\n\r\n    t = 'Play again';\r\n    tW = sketch.textWidth(t);\r\n    this.playAgainBtn = new Button(\r\n      sketch.width / 2 - bW / 2,\r\n      sketch.height / 2 + 75,\r\n      bW,\r\n      50,\r\n    );\r\n    this.playAgainBtn.setText(t);\r\n    this.playAgainBtn.setClickHandler(() => {\r\n      this.state.setState(\r\n        new GameState(sketch, this.state, new Player(sketch, this.player.name)),\r\n      );\r\n    });\r\n    this.buttons.push(this.playAgainBtn);\r\n\r\n    this.bosses = [];\r\n  }\r\n\r\n  draw(sketch) {\r\n    if (!GlobalSettings.gameOver) {\r\n      for (let i = 0; i < this.fishes.length; i += 1) {\r\n        const fish = this.fishes[i];\r\n        fish.draw(sketch);\r\n        if (this.player.canEat(sketch, fish)) {\r\n          if (fish.type === 'dog') this.gameOver();\r\n          if (this.player.size >= fish.size) {\r\n            this.player.eat(sketch, fish);\r\n            if (this.player.score % 15 === 0) {\r\n              this.swapFishImages();\r\n            }\r\n            this.handleBossSpawns(sketch);\r\n            this.handleSpawns(sketch);\r\n          } else {\r\n            this.gameOver();\r\n          }\r\n        }\r\n      }\r\n      for (let i = 0; i < this.enemies; i += 1) {\r\n        const enemy = this.enemies[i];\r\n        enemy.draw(sketch);\r\n        if (this.player.canEat(sketch, enemy)) {\r\n          this.gameOver();\r\n        }\r\n      }\r\n      for (let i = 0; i < this.powerups.length; i += 1) {\r\n        this.powerups[i].draw(sketch);\r\n        if (this.player.canEat(sketch, this.powerups[i])) {\r\n          this.player.addPower(this.powerups[i]);\r\n          this.powerups.splice(i, 1);\r\n        }\r\n      }\r\n      this.handleBossDespawns();\r\n      this.checkIfHitByBoss(sketch);\r\n      this.bosses.forEach((boss) => {\r\n        boss.draw(sketch, this.player);\r\n      });\r\n      this.player.draw(sketch);\r\n    } else {\r\n      sketch.push();\r\n      sketch.textSize(48);\r\n      sketch.textAlign(sketch.CENTER, sketch.CENTER);\r\n      const t = `Game Over!\\nScore: ${this.player.score}`;\r\n      // eslint-disable-next-line no-unused-vars\r\n      const tW = sketch.textWidth(t);\r\n      sketch.text(t, sketch.width / 2, sketch.height / 2 - 75);\r\n      this.restartBtn.draw(sketch);\r\n      this.playAgainBtn.draw(sketch);\r\n      sketch.pop();\r\n    }\r\n  }\r\n\r\n  getChanceOfSpawningPowerup() {\r\n    return Math.round(this.player.score / 10) * 0.1;\r\n  }\r\n\r\n  maySpawnPowerup(sketch, chance) {\r\n    let actualChance = chance;\r\n    if (actualChance > this.MAX_POWERUP_CHANCE) {\r\n      actualChance = this.MAX_POWERUP_CHANCE;\r\n    }\r\n    const r = Math.random();\r\n    if (r < actualChance) {\r\n      this.powerups.push(new Powerup(sketch, this.player));\r\n    }\r\n  }\r\n\r\n  handleSpawns(sketch) {\r\n    let chance = this.getChanceOfSpawningPowerup();\r\n    if (chance >= 1) {\r\n      this.maySpawnPowerup(sketch, this.MAX_POWERUP_CHANCE);\r\n    }\r\n    chance -= Math.floor(chance);\r\n    this.maySpawnPowerup(sketch, chance);\r\n  }\r\n\r\n  mouseClicked(sketch, mX, mY) {\r\n    for (let i = 0; i < this.buttons.length; i += 1) {\r\n      if (wasButtonClicked(sketch, this.buttons[i], mX, mY) && GlobalSettings.gameOver) {\r\n        this.buttons[i].click();\r\n      }\r\n    }\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  gameOver() {\r\n    GlobalSettings.gameOver = true;\r\n    // this.postScore();\r\n    SoundManager.gameOver();\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  initSound() {\r\n    SoundManager.loopSound('main');\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  destroy() {\r\n    SoundManager.stopAll();\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  postScore() {\r\n  /*  return new Promise((resolve, reject) => {\r\n      const username = this.player.name;\r\n      const { score } = this.player;\r\n      const postData = { username, score };\r\n      httpPost(\r\n        globalSettings.postUrl,\r\n        'json',\r\n        postData,\r\n        (data) => {\r\n          console.log(data);\r\n          // gameState.setState(new Menu(gameState));\r\n        },\r\n        (error) => {\r\n          console.error(error);\r\n        },\r\n      );\r\n    }).then(console.log); */\r\n  }\r\n\r\n  swapFishImages() {\r\n    return new Promise(() => {\r\n      for (let i = 0; i < this.fishes.length; i += 1) {\r\n        setTimeout(() => {\r\n          this.fishes[i].nextImg();\r\n        }, i * 20);\r\n      }\r\n    });\r\n  }\r\n\r\n  checkIfHitByBoss(sketch) {\r\n    this.bosses.forEach((boss) => {\r\n      boss.currentProjectiles.forEach((proj) => {\r\n        if (this.player.canEat(sketch, proj)) {\r\n          this.gameOver();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleBossDespawns() {\r\n    this.bosses.forEach((boss, i) => {\r\n      if (boss.outOfProjectiles()) {\r\n        this.bosses.splice(i, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  handleBossSpawns(sketch) {\r\n    if (this.player.score % 20 === 0) {\r\n      for (let i = 0; i < 3; i += 1) {\r\n        this.bosses.push(new Boss(sketch));\r\n      }\r\n    }\r\n  }\r\n}\r\n","import Button from '../components/button';\r\nimport GlobalSettings from '../global.settings';\r\nimport { wasButtonClicked } from '../util';\r\nimport GameState from './game.state';\r\nimport Player from '../components/player';\r\nimport UsernameState from './username.state';\r\nimport SoundManager from '../managers/sound.manager';\r\n\r\nexport default class Menu {\r\n  constructor(sketch, gamestate) {\r\n    this.gamestate = gamestate;\r\n    this.buttons = [];\r\n\r\n    // play button\r\n    const w = sketch.width * 0.3;\r\n    const h = 50;\r\n    const x = sketch.width / 2 - w / 2;\r\n    const y = sketch.height / 2 - h / 2;\r\n\r\n    const playButton = new Button(x, y, w, h);\r\n    playButton.setText('Play Game');\r\n    playButton.setClickHandler(() => {\r\n      const usrn = localStorage.getItem('username');\r\n      if (usrn && usrn.length !== 0) {\r\n        if (SoundManager.isPlaying('intro')) SoundManager.stopSound('intro');\r\n        this.gamestate.setState(new GameState(sketch, this.gamestate, new Player(sketch, usrn)));\r\n      } else {\r\n        this.gamestate.setState(new UsernameState(sketch, this.gamestate));\r\n      }\r\n    });\r\n    this.buttons.push(playButton);\r\n\r\n    // highscores button\r\n    // const aboutButton = new Button(x, y + 75, w, h);\r\n    // aboutButton.setText('Highscores');\r\n    // aboutButton.setClickHandler(() => {\r\n    //   const win = window.open(GlobalSettings.aboutUrl, '_blank');\r\n    //   win.focus();\r\n    // });\r\n    // this.buttons.push(aboutButton);\r\n\r\n    // info button\r\n    const infoBtn = new Button(x, y + 150, w, h);\r\n    infoBtn.setText('Info');\r\n    infoBtn.setClickHandler(() => {\r\n      // gameState.setState(new Info(this.gameState));\r\n    });\r\n    this.buttons.push(infoBtn);\r\n\r\n    this.title = 'NEKO';\r\n  }\r\n\r\n  draw(sketch) {\r\n    sketch.push();\r\n    sketch.textSize(124);\r\n    sketch.textAlign(sketch.CENTER, sketch.CENTER);\r\n    sketch.textFont('Palatino');\r\n    sketch.text(this.title, 0, 0, sketch.width, sketch.height / 2);\r\n    sketch.pop();\r\n    for (let i = 0; i < this.buttons.length; i += 1) {\r\n      this.buttons[i].draw(sketch);\r\n    }\r\n  }\r\n\r\n  mouseClicked(sketch, mX, mY) {\r\n    for (let i = 0; i < this.buttons.length; i += 1) {\r\n      if (wasButtonClicked(sketch, this.buttons[i], mX, mY)) {\r\n        this.buttons[i].click();\r\n      }\r\n    }\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  initSound() {\r\n    SoundManager.loopSound('intro');\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  destroy() {}\r\n}\r\n","import GlobalSettings from '../global.settings';\r\nimport Menu from './menu.state';\r\n\r\nexport default class State {\r\n  constructor(sketch) {\r\n    this.soundOnImg = GlobalSettings.soundOnImg;\r\n    this.soundOffImg = GlobalSettings.soundOffImg;\r\n    this.state = new Menu(sketch, this);\r\n    this.state.initSound();\r\n    const soundOn = localStorage.getItem('soundOn') === 'true'\r\n      || localStorage.getItem('soundOn') === null;\r\n    GlobalSettings.soundOn = soundOn;\r\n    if (!soundOn) {\r\n      sketch.masterVolume(0.0);\r\n    }\r\n  }\r\n\r\n  draw(sketch) {\r\n    this.state.draw(sketch);\r\n    sketch.push();\r\n    sketch.imageMode(sketch.CORNER);\r\n    if (GlobalSettings.soundOn) {\r\n      sketch.image(this.soundOnImg, 5, sketch.height - 55, 50, 50);\r\n    } else {\r\n      sketch.image(this.soundOffImg, 5, sketch.height - 55, 50, 50);\r\n    }\r\n    sketch.pop();\r\n  }\r\n\r\n  setState(s) {\r\n    this.state.destroy();\r\n    this.state = s;\r\n    setTimeout(() => {\r\n      this.state.initSound();\r\n    }, 100);\r\n  }\r\n\r\n  mouseClicked(sketch, mX, mY) {\r\n    if (mX > 5 && mX < 55 && mY > sketch.height - 55 && mY < sketch.height - 5) {\r\n      GlobalSettings.soundOn = !GlobalSettings.soundOn;\r\n      if (GlobalSettings.soundOn) {\r\n        sketch.masterVolume(1.0);\r\n        localStorage.setItem('soundOn', true);\r\n      } else {\r\n        sketch.masterVolume(0.0);\r\n        localStorage.setItem('soundOn', false);\r\n      }\r\n      return;\r\n    }\r\n    this.state.mouseClicked(sketch, mX, mY);\r\n  }\r\n\r\n  keyTyped(character, sketch) {\r\n    if (typeof this.state.keyTyped === 'function') {\r\n      this.state.keyTyped(character, sketch);\r\n    }\r\n  }\r\n\r\n  keyPressed(btn, sketch) {\r\n    if (typeof this.state.keyPressed === 'function') {\r\n      this.state.keyPressed(btn, sketch);\r\n    }\r\n  }\r\n}\r\n","import '../lib/p5.collide2d.min';\r\nimport WaterBackground from './background/waterbackground';\r\nimport './styles/styles.scss';\r\nimport State from './states/state';\r\nimport GlobalSettings from './global.settings';\r\nimport AnnouncementManager from './managers/announcement.manager';\r\nimport SoundManager from './managers/sound.manager';\r\n\r\nconst s = (sketch) => {\r\n  let wbg;\r\n  let gs;\r\n\r\n  const resetCv = () => {\r\n    sketch.clear();\r\n    const c = sketch.color(255, 149, 79);\r\n    sketch.background(c);\r\n  };\r\n\r\n  sketch.mouseClicked = (ev) => {\r\n    gs.mouseClicked(sketch, ev.x, ev.y);\r\n    return false;\r\n  };\r\n\r\n  sketch.keyTyped = () => {\r\n    gs.keyTyped(sketch.key, sketch);\r\n  };\r\n\r\n  sketch.keyPressed = () => {\r\n    gs.keyPressed(sketch.keyCode, sketch);\r\n  };\r\n\r\n  sketch.windowResized = () => {\r\n    sketch.resizeCanvas(sketch.windowWidth, sketch.windowHeight);\r\n  };\r\n\r\n  sketch.preload = () => {\r\n    GlobalSettings.playerImg = sketch.loadImage('./assets/img/Neko_Cat.png');\r\n    GlobalSettings.dogImg = sketch.loadImage('./assets/img/dog.png');\r\n    GlobalSettings.soundOffImg = sketch.loadImage('./assets/img/sound_off.png');\r\n    GlobalSettings.soundOnImg = sketch.loadImage('./assets/img/sound_on.png');\r\n    GlobalSettings.powerup = sketch.loadImage('./assets/img/powerup.png');\r\n\r\n    GlobalSettings.fish_images.push(sketch.loadImage('./assets/img/mouse.png'));\r\n    GlobalSettings.fish_images.push(sketch.loadImage('./assets/img/mouse2.png'));\r\n    GlobalSettings.fish_images.push(sketch.loadImage('./assets/img/mouse3.png'));\r\n    GlobalSettings.fish_images.push(sketch.loadImage('./assets/img/mouse3.png'));\r\n    GlobalSettings.fish_images.push(sketch.loadImage('./assets/img/mouse3.png'));\r\n\r\n    sketch.soundFormats('wav');\r\n    SoundManager.addSound('intro', sketch.loadSound('./assets/sounds/Intro.mp3'));\r\n    SoundManager.addSound('main', sketch.loadSound('./assets/sounds/Main.mp3'));\r\n    SoundManager.addSound('fast', sketch.loadSound('./assets/sounds/main_fast.mp3'));\r\n    SoundManager.addSound('slow', sketch.loadSound('./assets/sounds/main_slow.mp3'));\r\n    SoundManager.addSound('grom', sketch.loadSound('./assets/sounds/grommel.mp3'));\r\n    SoundManager.addSound('schurk', sketch.loadSound('./assets/sounds/schurk.mp3'));\r\n    SoundManager.addSound('reverse', sketch.loadSound('./assets/sounds/Main_reverse.mp3'));\r\n    SoundManager.addSound('double', sketch.loadSound('./assets/sounds/Double_points.mp3'));\r\n  };\r\n\r\n  sketch.setup = () => {\r\n    sketch.createCanvas(sketch.windowWidth, sketch.windowHeight).parent('cv-container');\r\n    wbg = new WaterBackground(sketch);\r\n    gs = new State(sketch);\r\n  };\r\n  sketch.draw = () => {\r\n    resetCv();\r\n    wbg.draw(sketch);\r\n    gs.draw(sketch);\r\n    AnnouncementManager.draw(sketch);\r\n  };\r\n};\r\n\r\n// eslint-disable-next-line no-unused-vars,new-cap,no-undef\r\nconst app = new p5(s);\r\n"]}